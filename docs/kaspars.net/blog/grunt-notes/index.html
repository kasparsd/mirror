<!DOCTYPE html><html lang="en-US"><head>
	<meta charset="UTF-8">
	<title>Notes on Grunt (Development) —  Kaspars Dambis</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="max-image-preview:large">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Feed" href="https://kaspars.net/feed">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Comments Feed" href="https://kaspars.net/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Notes on Grunt Comments Feed" href="https://kaspars.net/blog/grunt-notes/feed">
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="minit-css-css" href="../../wp-content/uploads/minit/c7aa1bc3ef3c368388ee909cc835a652.css" type="text/css" media="all">
<link rel="preload" href="https://kaspars.net/wp-content/uploads/minit/c7aa1bc3ef3c368388ee909cc835a652.css" as="style"><link rel="https://api.w.org/" href="https://kaspars.net/wp-json/"><link rel="alternate" title="JSON" type="application/json" href="https://kaspars.net/wp-json/wp/v2/posts/6569"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://kaspars.net/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.6.2">
<link rel="canonical" href="https://kaspars.net/blog/grunt-notes">
<link rel="shortlink" href="https://kaspars.net/6569">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://kaspars.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fkaspars.net%2Fblog%2Fgrunt-notes">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://kaspars.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fkaspars.net%2Fblog%2Fgrunt-notes&amp;format=xml">
<link rel="alternate" type="application/activity+json" href="https://kaspars.net/blog/grunt-notes">
		<style>
			#stand_with_ukraine_overlay {
				border: 10px solid #0057B8;
				padding: 5px;
				text-align: center;
				text-combine: #0057B8;
				background-color: #FFD700;
			}
			#stand_with_ukraine_overlay a {
				display: inline-block;
				padding: 3px 6px;
				color: #0057B8;
				border: 2px transparent dashed;
				text-decoration: underline;
			}
			#stand_with_ukraine_overlay a:hover,
			#stand_with_ukraine_overlay a:focus {
				border: 2px #0057B8 dashed;
				text-decoration: underline;
			}
		</style>
	<meta property="fediverse:creator" name="fediverse:creator" content="kaspars@kaspars.net">
<meta property="og:site_name" content="Kaspars Dambis">
<meta property="og:title" content="Notes on Grunt">
<meta property="og:description" content="Grunt is a very powerful task runner for automating and improving your development workflow. Even in 2017 when&nbsp;Webpack&nbsp;seems to be the coo...">
<meta property="og:type" content="article">
<meta property="og:image" content="../../wp-content/uploads/2017/12/grunt-cover.png">
<meta property="og:url" content="https://kaspars.net/blog/grunt-notes">
<link rel="icon" type="image/png" href="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D300%26d%3Dmm%26r%3Dg">
<link rel="alternate" type="application/activity+json" href="https://kaspars.net/blog/grunt-notes">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-32x32.jpeg" sizes="32x32">
<link rel="icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-192x192.jpeg" sizes="192x192">
<link rel="apple-touch-icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-180x180.jpeg">
<meta name="msapplication-TileImage" content="https://kaspars.net/wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-270x270.jpeg">
<link rel="webmention" href="https://kaspars.net/wp-json/webmention/1.0/endpoint">
<link rel="http://webmention.org/" href="https://kaspars.net/wp-json/webmention/1.0/endpoint">
		<style type="text/css" id="wp-custom-css">
			.yarpp-related li a { font-weight:normal; padding:0.25em 0; }
.yarpp-related ul { margin-left:0; margin-right:0; padding-left:0; }

.is-type-video .wp-block-embed__wrapper { background-color:#ddd; }

figure figcaption { text-align:center; font-style:italic; font-size:0.9em; }

.wp-block-gallery ul { margin-left:0; }


#stand_with_ukraine_overlay { min-height:2.2em; } 		</style>
		</head>
<body class="post-template-default single single-post postid-6569 single-format-standard custom-background wp-embed-responsive has-header-image">

<div class="wrap wrap-header">
	<div class="wrap-section-in">

		
		<nav id="header" role="navigation">

			<p id="logo" role="banner">
				<a href="../../" title="Kaspars Dambis" rel="home">
					<img src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D300%26d%3Dmm%26r%3Dg" width="300" height="300" alt="Kaspars Dambis" title="Kaspars Dambis" class="custom-logo" decoding="async" fetchpriority="high">					<strong>Kaspars Dambis</strong>
				</a>
				<em>WordPress, Electronics &amp; Home Automation</em>
			</p>

			<a id="nav-main-toggle" href="#nav-main">Menu</a>
					<div id="nav-main" class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-9331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9331"><a title="Advanced WordPress Courses" href="../../courses/">Courses</a></li>
<li id="menu-item-9416" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9416"><a title="Enterprise WordPress Consulting" href="../../consulting/">Consulting</a></li>
<li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-has-children menu-item-4174"><a title="Blog About Web Design, WordPress and Performance" href="../">Blog</a>
<ul class="sub-menu">
	<li id="menu-item-4884" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-4884"><a title="Latest Blog Posts" href="../">Latest Posts</a></li>
	<li id="menu-item-6198" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6198"><a title="My video blog about electronics and digital products" href="../topic/vlog/">Video Blog</a></li>
	<li id="menu-item-4943" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4943"><a title="Archive of all blogs posts" href="../archive/">All Posts</a></li>
	<li id="menu-item-6242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6242"><a href="../../subscribe/">Subscribe</a></li>
</ul>
</li>
<li id="menu-item-4176" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4176"><a title="About Kaspars Dambis" rel="author me" href="../../about/">About</a>
<ul class="sub-menu">
	<li id="menu-item-5784" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5784"><a href="../../about/">About Me</a></li>
	<li id="menu-item-4178" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4178"><a title="Contact Kaspars Dambis" href="../../contact/">Contact</a></li>
	<li id="menu-item-5824" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5824"><a title="What I’m Doing Now…" href="../../now/">Now</a></li>
	<li id="menu-item-6726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6726"><a title="My toolbox of products and services I love" href="../../uses/">Tools &amp; Services</a></li>
	<li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="../../projects/">Projects</a></li>
	<li id="menu-item-6925" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6925"><a title="My bookshelf" href="../../reads/">Books</a></li>
</ul>
</li>
</ul></div>		</nav>

		
	</div>
</div>

<div class="wrap wrap-content-main">
	<div class="wrap-section-in">

		<div id="content-main" class="hfeed" role="main">

		<div class="breadcrumb breadcrumb-count-3" itemprop="breadcrumb"><a href="../../">Home</a> → <a href="../">Blog</a> → <a href="../topic/dev/" rel="category tag">Development</a> →</div>
		
		<article class="post-6569 post type-post status-publish format-standard has-post-thumbnail hentry category-dev has-featured-image" id="post-6569" role="article">

			
						<h1 class="entry-title" role="heading">
					Notes on Grunt			</h1>
			
			
			<div class="post-meta post-meta-header">
				<span class="meta-item meta-published time published">
			<abbr title="Sat, 09 Dec 2017 11:41:17 +0200">December 9, 2017</abbr>
		</span> <span class="meta-item meta-updated time updated">
			<span class="value-title" title="Sat, 09 Dec 2017 11:47:01 +0200"></span>
		</span> <span class="meta-item meta-author author vcard">
			<span class="name fn">
				<span class="value-title" title="Kaspars"></span>
			</span>
		</span> <span class="meta-item meta-category category"><a href="../topic/dev/" rel="category tag">Development</a></span> 			</div>

			
			<div class="entry-content">
				<p><a href="https://gruntjs.com/">Grunt</a> is a very powerful task runner for automating and improving your development workflow. Even in 2017 when&nbsp;<a href="https://webpack.js.org/">Webpack</a>&nbsp;seems to be the cool kid on the block for concatenating and bundling static assets, there are plenty of tasks that are better handled by Grunt (or <a href="https://gulpjs.com/">Gulp</a>).<span id="more-6569"></span></p>
<h2>Setting Up Grunt</h2>
<p>You don’t need <code>grunt-cli</code>&nbsp;to run Grunt tasks! Use <a href="https://docs.npmjs.com/misc/scripts">npm scripts</a>&nbsp;to define all project related tasks as <code>npm run task-name</code>&nbsp;instead. This way you can swap out Grunt for anything else in the future without changing the name of the related task. For example, here is an excerpt of <code>package.json</code>&nbsp;that uses both Grunt and Webpack for separate tasks:</p>
<pre>{
  "scripts": {
    "css": "grunt build:css",
    "js": "webpack --config webpack.config.js",
    "grunt": "grunt"
  }
}</pre>
<p>Notice, there is also a generic&nbsp;<code>grunt</code>&nbsp;script for running individual grunt tasks via <code>npm run grunt task-name</code>.</p>
<h2>Grunt is Awesome</h2>
<p>So far I’ve been using Grunt mainly for transpiling, bundling and minifying JS and CSS files but recently (four years too late) I discovered <a href="https://github.com/stephenharris/grunt-wp-deploy">grunt-wp-deploy</a> by&nbsp;<a href="http://stephenharris.info/">Stephen Harris</a> which enables automated deployments for WordPress plugins to the <a href="https://wordpress.org/plugins/">official plugin repository</a>. There is even <a href="https://github.com/stephenharris/wp-readme-to-markdown">wp-readme-to-markdown</a> for converting&nbsp;<a href="https://developer.wordpress.org/plugins/wordpress-org/how-your-readme-txt-works/">plugin <code>readme.txt</code></a> into markdown formatted readme for GitHub. The <a href="https://github.com/stephenharris/Event-Organiser/blob/a23529d9c546041ebfb4ee091c5c4613640662ef/Gruntfile.js"><code>Gruntfile.js</code></a>&nbsp;of the <a href="https://github.com/stephenharris/Event-Organiser">Event Organiser plugin</a> is a great example of what is possible.</p>
<h2>Grunt for wp-dev-lib</h2>
<p>So I began to&nbsp;wondered if we could convert most of the <a href="https://github.com/xwp/wp-dev-lib">wp-dev-lib</a> magic into Grunt tasks that are written in Javascript instead of Bash. The greatest feature of the&nbsp;<code>wp-dev-lib</code>&nbsp;is that it can report errors only for the parts of code that have changed in the particular commit or pull request. This is especially valuable when working with legacy projects that don’t adhere to any coding standards.</p>
<p>The following scripts are the easiest to convert:</p>
<ul>
<li><code><a href="https://github.com/xwp/wp-dev-lib/blob/ec27dd9f71d592a6177be98f77728badfd333fcb/install-pre-commit-hook.sh">install-pre-commit-hook.sh</a></code>&nbsp;creates a symbolic link to the <a href="https://github.com/xwp/wp-dev-lib/blob/0ae31b9d76cb33118cce175cbbef5724d5d99cb8/pre-commit"><code>pre-commit</code></a>&nbsp;script in the project&nbsp;<code>.git/hooks</code>&nbsp;directory. This can be replaced with <a href="https://github.com/typicode/husky">husky</a> which runs anything you have defined for the&nbsp;<code>precommit</code>&nbsp;script in the&nbsp;<code>package.json</code>&nbsp;file instead.</li>
<li><code><a href="https://github.com/xwp/wp-dev-lib/blob/e718fdbf69cf71b7a5c3525ec2bbcd828dee6f73/generate-markdown-readme">generate-markdown-readme</a></code> can be replaced with the&nbsp;<a href="https://github.com/stephenharris/wp-readme-to-markdown">wp-readme-to-markdown</a>&nbsp;Grunt task mentioned previously which offers more flexibility over how the files are named and placed.</li>
<li><code><a href="https://github.com/xwp/wp-dev-lib/blob/a044f5d279c7969a1deba48d660ef63fb5d02358/svn-push">svn-push</a></code>&nbsp;can be replaced with the&nbsp;<a href="https://github.com/stephenharris/grunt-wp-deploy">grunt-wp-deploy</a>&nbsp;task.</li>
</ul>
<p>However, the core features are contained in the <a href="https://github.com/xwp/wp-dev-lib/blob/0ae31b9d76cb33118cce175cbbef5724d5d99cb8/pre-commit"><code>pre-commit</code></a>&nbsp;script which does all of this:</p>
<ul>
<li>Sets up <a href="https://github.com/xwp/wp-dev-lib/blob/dc2bbbc776ebe6c78dee9eea1163d04be03710af/check-diff.sh#L30-L354">environment variables</a> that determine which tasks to run.</li>
<li>Determines the Git diff range for which to run the checks.</li>
<li>Checks for PHPCS, PHPUnit, Codeception, Vagrant, Docker, JSCS, JSHint and ESLint config files to determine which tasks to run and where.</li>
<li>Creates a list of files with changes for each file type such as PHP, JS, CSS and XML.</li>
<li>Installs the binaries for running the actual checks.</li>
<li>Ensures that no executable files are being committed.</li>
<li>Runs all the linters and tests and<a href="https://github.com/xwp/wp-dev-lib/blob/89fd88e629c256845f7344d263dd91555136475b/diff-tools/filter-report-for-patch-ranges.php"> reports errors only in the current changeset</a>.</li>
</ul>
<p>The challenge here is to duplicate the patch-level linter reporting. So far I haven’t figured the best way to do that but it’s been an interesting thought experiment.</p>
<p>Finally, we wouldn’t actually need the patch level filtering if the whole codebase matched the coding standards required by each linter. Maybe for legacy projects it’s easier to start by running automated code fixers such as&nbsp;<a href="https://github.com/squizlabs/PHP_CodeSniffer/wiki/Fixing-Errors-Automatically">phpcbf</a> and <a href="https://github.com/jshint/fixmyjs">fixmyjs</a>.</p>
			</div>

			<ul class="post-nav">
				<li><h4 class="prev"><a href="../jekyll-vs-metalsmith/" rel="prev">Notes on Metalsmith and Jekyll</a></h4></li><li><h4 class="next"><a href="../macos-photos-backup/" rel="next">MacOS Photos Backup</a></h4></li>			</ul>

			
		</article>

		<div class="yarpp yarpp-related yarpp-related-website yarpp-template-list">
<!-- YARPP List -->
<h3>Related posts:</h3><ol>
<li><a href="../composer-code-ux/" rel="bookmark" title="Missing Dependencies and Open Source Contributions">Missing Dependencies and Open Source Contributions</a></li>
<li><a href="../webpack-hmr-vagrant-docker/" rel="bookmark" title="Notes on Webpack Hot Module Replacement">Notes on Webpack Hot Module Replacement</a></li>
<li><a href="../jekyll-vs-metalsmith/" rel="bookmark" title="Notes on Metalsmith and Jekyll">Notes on Metalsmith and Jekyll</a></li>
<li><a href="../the-complexities-of-creating-a-markdown-parser/" rel="bookmark" title="The Complexities of Creating a Markdown Parser">The Complexities of Creating a Markdown Parser</a></li>
</ol>
</div>

			<div class="comments-wrap">
		<div class="comments " id="comments">

			
				<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://kaspars.net/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-form-comment"><label for="comment">Comment <span class="required">*</span></label> <textarea autocomplete="new-password" id="bfac3e1ff0" name="bfac3e1ff0" cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize="">document.getElementById("comment").setAttribute( "id", "a2385978891329442503c4230f3f2e9e" );document.getElementById("bfac3e1ff0").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" autocomplete="email" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" autocomplete="url"></p>
<p class="comment-form-notify-me">
			<label>
			<input type="checkbox" name="comment-approved_notify-me" value="1">
			Notify me by email when the comment gets approved.
			</label>
			</p><input type="hidden" name="wp-comment-cookies-consent" value="1"><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="6569" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	<form id="webmention-form" action="https://kaspars.net/wp-json/webmention/1.0/endpoint" method="post">
	<p>
		<label for="webmention-source">To respond on your own website, enter the URL of your response which should contain a link to this post's permalink URL. Your response will then appear (possibly after moderation) on this page. Want to update or remove your response? Update or delete your post and re-enter your post's URL again. (<a href="https://indieweb.org/webmention">Learn More</a>)</label>
	</p>
	<p>
		<input id="webmention-source" type="url" autocomplete="url" required="" pattern="^https?:\/\/(.*)" name="source" placeholder="URL/Permalink of your article">
	</p>
	<p>
		<input id="webmention-submit" type="submit" name="submit" value="Ping me!">
	</p>
	<input id="webmention-format" type="hidden" name="format" value="html">
	<input id="webmention-target" type="hidden" name="target" value="https://kaspars.net/blog/grunt-notes">
</form>

		</div><!-- #comments -->
	</div>
	
		
		
		</div><!-- content-main -->
	</div><!-- wrap -->
</div>

<div class="wrap wrap-footer" role="contentinfo">
	<div class="wrap-section-in">

		
				<div id="footer">
			<aside id="text-17" class="widget widget_text"><h1 class="widget-title">Check out my WordPress products</h1>			<div class="textwidget"><p><a href="https://widgetcontext.com">Widget Context</a> for widget visibility, <a href="https://preseto.com/go/cf7-storage">Storage</a> and <a href="https://formcontrols.com">Controls</a> for Contact Form 7. Learn more about <a href="../../projects/">my projects →</a></p>
</div>
		</aside><aside id="convertkit_form-2" class="widget convertkit widget_convertkit_form"><h1 class="widget-title">Subscribe to My Newsletter</h1><script async="" data-uid="cda85cd940" src="https://wpelevator.ck.page/cda85cd940/index.js" data-jetpack-boost="ignore" data-no-defer="1" nowprocket=""></script></aside>
		<aside id="recent-posts-3" class="widget widget_recent_entries">
		<h1 class="widget-title">Recent Posts</h1>
		<ul>
											<li>
					<a href="../nginx-rate-limit-php/">How to Rate Limit Requests to Specific PHP Files with Nginx</a>
									</li>
											<li>
					<a href="../applescript-resize-all-windows/">Use AppleScript to Resize All Windows for Screen Recording</a>
									</li>
											<li>
					<a href="../airbank-d13-pro-teardown/">Airbank D13 Puffer Pro Pump Teardown</a>
									</li>
											<li>
					<a href="../bafang-canbus/">Notes on Bafang CAN Bus</a>
									</li>
											<li>
					<a href="../usb-c-pd65w-adapter-charger-18v-20v-batteries/">USB-C PD65W Adapter and Charger for 18V and 20V Power Tool Batteries</a>
									</li>
											<li>
					<a href="../solar-lora-meshtastic/">Building a Solar Powered Lora Meshtastic Community Network</a>
									</li>
											<li>
					<a href="../powerwalker-vi-500-r1u/">Notes on PowerWalker VI 500 R1U UPS</a>
									</li>
											<li>
					<a href="../beelink-u59-pro-n5105/">Notes on Beelink U59 Pro (Intel N5105) as a Home Server</a>
									</li>
											<li>
					<a href="../neo-nas-zw05b0-tuya-zigbee-homekit-hub/">Notes on NEO Tuya Zigbee HomeKit Hub</a>
									</li>
											<li>
					<a href="../nilan-compact-p2-geo3-polar/">Notes on Nilan Compact P2 GEO3 Polar</a>
									</li>
					</ul>

		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Blog Topics</h1>
			<ul>
					<li class="cat-item cat-item-174"><a href="../topic/cryptography/">Cryptography</a>
</li>
	<li class="cat-item cat-item-3"><a href="../topic/design/">Design</a>
</li>
	<li class="cat-item cat-item-147"><a href="../topic/dev/">Development</a>
</li>
	<li class="cat-item cat-item-156"><a href="../topic/electronics/">Electronics</a>
</li>
	<li class="cat-item cat-item-188"><a href="../topic/home-automation/">Home Automation</a>
</li>
	<li class="cat-item cat-item-155"><a href="../topic/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-114"><a href="../topic/meta/">Meta</a>
</li>
	<li class="cat-item cat-item-115"><a href="../topic/observatory/">Observatory</a>
</li>
	<li class="cat-item cat-item-189"><a href="../topic/passive-house/">Passive House</a>
</li>
	<li class="cat-item cat-item-5"><a href="../topic/media-publishing/">Publishing</a>
</li>
	<li class="cat-item cat-item-184"><a href="../topic/vlog/">Video Blog</a>
</li>
	<li class="cat-item cat-item-136"><a href="../topic/performance/">Web Performance</a>
</li>
	<li class="cat-item cat-item-9"><a href="../topic/wordpress/">WordPress</a>
</li>
			</ul>

			</aside>		</div>
		
		<div class="footer-menu-wrap">
					<strong class="home"><a href="../../">Kaspars Dambis</a></strong>
					<div id="nav-footer" class="menu-personal-links-container"><ul id="menu-personal-links" class="menu"><li id="menu-item-4829" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-4829"><a title="Blog about WordPress plugin development, website performance and optimization" href="../">Blog</a></li>
<li id="menu-item-5187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5187"><a title="About Kaspars Dambis" rel="author" href="../../about/">About</a></li>
<li id="menu-item-5188" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5188"><a title="Contact Kaspars Dambis" href="../../contact/">Contact</a></li>
<li id="menu-item-6908" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6908"><a title="My blog in Latvian" rel="me" href="https://kasparsdambis.lv">Latviski</a></li>
</ul></div>
				</div><div id="nav-social" class="menu-social-links-container"><ul id="menu-social-links" class="menu"><li id="menu-item-5185" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5185"><a title="My code on GitHub" rel="me" href="https://github.com/kasparsd/">GitHub Profile</a></li>
<li id="menu-item-5186" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5186"><a title="My WordPress profile" rel="me" href="https://profiles.wordpress.org/kasparsd">WordPress Profile</a></li>
<li id="menu-item-5184" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5184"><a title="Kaspars on Twitter" rel="me" href="https://twitter.com/konstruktors">Twitter</a></li>
<li id="menu-item-8591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8591"><a title="Follow on Mastadon (ActivityPub)" rel="me" href="https://mastodon.social/@kasparsd">Mastadon</a></li>
<li id="menu-item-6160" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6160"><a title="My Video Blog" rel="me" href="https://www.youtube.com/kasparsdambis">YouTube</a></li>
<li id="menu-item-5195" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5195"><a title="My photos on Flickr" rel="me" href="https://www.flickr.com/photos/kasparsdambis/">Flickr</a></li>
<li id="menu-item-5793" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5793"><a title="My Instagram Photos" rel="me" href="https://www.instagram.com/kasparsd/">Instagram</a></li>
<li id="menu-item-6512" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6512"><a title="My Micro Blog" rel="me" href="https://micro.blog/kaspars">Micro.blog</a></li>
</ul></div>
		
		<div class="theme-credits"><p>Powered by <a href="https://wordpress.org">WordPress</a> and <a href="https://preseto.com/themes/list">List Theme</a>.</p></div>	</div>
</div>

<script type="text/javascript" id="minit-js-js-extra">
/* <![CDATA[ */
var swu_options = {"text":"Stand With Ukraine","hashtag":"#StandWithUkraine","url":"https:\/\/war.ukraine.ua\/"};
/* ]]> */
</script>
<script async="" type="text/javascript" defer="" src="../../wp-content/uploads/minit/83067bfb7b491520abc941f1d73c5bc2.js" id="minit-js-js"></script>

<!-- Script helper footer: -->
<script defer="" src="../../__reverse.kaspars.net/gtm/gtag/js/id%3DG-4GVR01JRX8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-4GVR01JRX8');
</script>


<!--
	List Theme by Preseto at https://preseto.com
	78 queries in 0.3638 seconds on Mon, 21 Oct 2024 12:08:04 +0000.-->



</body></html>