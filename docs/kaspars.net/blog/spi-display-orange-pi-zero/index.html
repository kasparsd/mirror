<!DOCTYPE html><html lang="en-US"><head>
	<meta charset="UTF-8">
	<title>Display for Orange Pi Zero (Electronics, Linux, Video Blog) —  Kaspars Dambis</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="max-image-preview:large">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Feed" href="https://kaspars.net/feed">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Comments Feed" href="https://kaspars.net/comments/feed">
<link rel="alternate" type="application/rss+xml" title="Kaspars Dambis » Display for Orange Pi Zero Comments Feed" href="https://kaspars.net/blog/spi-display-orange-pi-zero/feed">
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="minit-css-css" href="../../wp-content/uploads/minit/c7aa1bc3ef3c368388ee909cc835a652.css" type="text/css" media="all">
<link rel="preload" href="https://kaspars.net/wp-content/uploads/minit/c7aa1bc3ef3c368388ee909cc835a652.css" as="style"><link rel="https://api.w.org/" href="https://kaspars.net/wp-json/"><link rel="alternate" title="JSON" type="application/json" href="https://kaspars.net/wp-json/wp/v2/posts/6275"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://kaspars.net/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.6.2">
<link rel="canonical" href="https://kaspars.net/blog/spi-display-orange-pi-zero">
<link rel="shortlink" href="https://kaspars.net/6275">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="https://kaspars.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fkaspars.net%2Fblog%2Fspi-display-orange-pi-zero">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="https://kaspars.net/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fkaspars.net%2Fblog%2Fspi-display-orange-pi-zero&amp;format=xml">
<link rel="alternate" type="application/activity+json" href="https://kaspars.net/blog/spi-display-orange-pi-zero">
		<style>
			#stand_with_ukraine_overlay {
				border: 10px solid #0057B8;
				padding: 5px;
				text-align: center;
				text-combine: #0057B8;
				background-color: #FFD700;
			}
			#stand_with_ukraine_overlay a {
				display: inline-block;
				padding: 3px 6px;
				color: #0057B8;
				border: 2px transparent dashed;
				text-decoration: underline;
			}
			#stand_with_ukraine_overlay a:hover,
			#stand_with_ukraine_overlay a:focus {
				border: 2px #0057B8 dashed;
				text-decoration: underline;
			}
		</style>
	<meta property="fediverse:creator" name="fediverse:creator" content="kaspars@kaspars.net">
<meta property="og:site_name" content="Kaspars Dambis">
<meta property="og:title" content="Display for Orange Pi Zero">
<meta property="og:description" content="After figuring out the GPIO pin names of the Orange Pi Zero expansion port it is&nbsp;relatively easy to configure any&nbsp;TFT&nbsp;display...">
<meta property="og:type" content="video">
<meta property="og:image" content="../../wp-content/uploads/2017/03/display-for-orange-pi-zero.jpg">
<meta property="og:url" content="https://kaspars.net/blog/spi-display-orange-pi-zero">
<meta property="og:video" content="https://www.youtube.com/v/Td-R_Rk2VQ4">
<link rel="icon" type="image/png" href="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D300%26d%3Dmm%26r%3Dg">
<link rel="alternate" type="application/activity+json" href="https://kaspars.net/blog/spi-display-orange-pi-zero">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-32x32.jpeg" sizes="32x32">
<link rel="icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-192x192.jpeg" sizes="192x192">
<link rel="apple-touch-icon" href="../../wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-180x180.jpeg">
<meta name="msapplication-TileImage" content="https://kaspars.net/wp-content/uploads/2022/01/cropped-kaspars-dambis-square-small-270x270.jpeg">
<link rel="webmention" href="https://kaspars.net/wp-json/webmention/1.0/endpoint">
<link rel="http://webmention.org/" href="https://kaspars.net/wp-json/webmention/1.0/endpoint">
		<style type="text/css" id="wp-custom-css">
			.yarpp-related li a { font-weight:normal; padding:0.25em 0; }
.yarpp-related ul { margin-left:0; margin-right:0; padding-left:0; }

.is-type-video .wp-block-embed__wrapper { background-color:#ddd; }

figure figcaption { text-align:center; font-style:italic; font-size:0.9em; }

.wp-block-gallery ul { margin-left:0; }


#stand_with_ukraine_overlay { min-height:2.2em; } 		</style>
		</head>
<body class="post-template-default single single-post postid-6275 single-format-video custom-background wp-embed-responsive has-header-image">

<div class="wrap wrap-header">
	<div class="wrap-section-in">

		
		<nav id="header" role="navigation">

			<p id="logo" role="banner">
				<a href="../../" title="Kaspars Dambis" rel="home">
					<img src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D300%26d%3Dmm%26r%3Dg" width="300" height="300" alt="Kaspars Dambis" title="Kaspars Dambis" class="custom-logo" decoding="async">					<strong>Kaspars Dambis</strong>
				</a>
				<em>WordPress, Electronics &amp; Home Automation</em>
			</p>

			<a id="nav-main-toggle" href="#nav-main">Menu</a>
					<div id="nav-main" class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-9331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9331"><a title="Advanced WordPress Courses" href="../../courses/">Courses</a></li>
<li id="menu-item-9416" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-9416"><a title="Enterprise WordPress Consulting" href="../../consulting/">Consulting</a></li>
<li id="menu-item-4174" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-has-children menu-item-4174"><a title="Blog About Web Design, WordPress and Performance" href="../">Blog</a>
<ul class="sub-menu">
	<li id="menu-item-4884" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-4884"><a title="Latest Blog Posts" href="../">Latest Posts</a></li>
	<li id="menu-item-6198" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-6198"><a title="My video blog about electronics and digital products" href="../topic/vlog/">Video Blog</a></li>
	<li id="menu-item-4943" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4943"><a title="Archive of all blogs posts" href="../archive/">All Posts</a></li>
	<li id="menu-item-6242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6242"><a href="../../subscribe/">Subscribe</a></li>
</ul>
</li>
<li id="menu-item-4176" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4176"><a title="About Kaspars Dambis" rel="author me" href="../../about/">About</a>
<ul class="sub-menu">
	<li id="menu-item-5784" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5784"><a href="../../about/">About Me</a></li>
	<li id="menu-item-4178" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4178"><a title="Contact Kaspars Dambis" href="../../contact/">Contact</a></li>
	<li id="menu-item-5824" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5824"><a title="What I’m Doing Now…" href="../../now/">Now</a></li>
	<li id="menu-item-6726" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6726"><a title="My toolbox of products and services I love" href="../../uses/">Tools &amp; Services</a></li>
	<li id="menu-item-4168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4168"><a href="../../projects/">Projects</a></li>
	<li id="menu-item-6925" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6925"><a title="My bookshelf" href="../../reads/">Books</a></li>
</ul>
</li>
</ul></div>		</nav>

		
	</div>
</div>

<div class="wrap wrap-content-main">
	<div class="wrap-section-in">

		<div id="content-main" class="hfeed" role="main">

		<div class="breadcrumb breadcrumb-count-3" itemprop="breadcrumb"><a href="../../">Home</a> → <a href="../">Blog</a> → <a href="../topic/electronics/" rel="category tag">Electronics</a>,<a href="../topic/linux/" rel="category tag">Linux</a>,<a href="../topic/vlog/" rel="category tag">Video Blog</a> →</div>
		
		<article class="post-6275 post type-post status-publish format-video has-post-thumbnail hentry category-electronics category-linux category-vlog tag-orange-pi-zero tag-raspberrypi post_format-post-format-video has-featured-image" id="post-6275" role="article">

			
						<h1 class="entry-title" role="heading">
					Display for Orange Pi Zero			</h1>
			
			
			<div class="post-meta post-meta-header">
				<span class="meta-item meta-published time published">
			<abbr title="Sun, 05 Mar 2017 19:00:22 +0200">March 5, 2017</abbr>
		</span> <span class="meta-item meta-updated time updated">
			<span class="value-title" title="Fri, 03 Jul 2020 11:44:52 +0300"></span>
		</span> <span class="meta-item meta-author author vcard">
			<span class="name fn">
				<span class="value-title" title="Kaspars"></span>
			</span>
		</span> <span class="meta-item meta-category category"><a href="../topic/electronics/" rel="category tag">Electronics</a>, <a href="../topic/linux/" rel="category tag">Linux</a>, <a href="../topic/vlog/" rel="category tag">Video Blog</a></span> <span class="meta-item meta-tags tags"><a href="../tag/orange-pi-zero/" rel="tag">Orange Pi Zero</a><a href="../tag/raspberrypi/" rel="tag">raspberrypi</a></span> <span class="meta-item meta-comment-count">
			<a href="#comments">44&nbsp;Comments</a>
		</span>			</div>

			
			<div class="entry-content">
				
<figure class="wp-block-embed-youtube alignwide wp-block-embed is-type-video is-provider-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper">
<iframe title="Display for Orange Pi Zero" width="650" height="366" src="https://www.youtube.com/embed/Td-R_Rk2VQ4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</div></figure>



<p>After figuring out the <a href="../orange-pi-zero-gpio/">GPIO pin names of the Orange Pi Zero expansion port</a> it is&nbsp;relatively easy to configure any&nbsp;TFT&nbsp;display as <a href="https://github.com/notro/fbtft/wiki/fbtft_device">a FBTFT device</a>&nbsp;attached over the SPI bus, as long as you know the name of the chip used to drive the LCD screen. Here is <a href="https://github.com/torvalds/linux/tree/master/drivers/staging/fbtft">a list of all the chips supported by the Linux kernel</a> out of the box.</p>



<p>The display I have&nbsp;is&nbsp;very similar to this <a href="http://www.waveshare.com/product/3.2inch-RPi-LCD-B.htm">3.2″ Waveshare touch-screen display</a> that uses the <a href="https://cdn-shop.adafruit.com/datasheets/ILI9340.pdf">ILI9340 LCD driver (PDF)</a> chip. It was only a matter of specifying the two GPIO pins used for <code>DC</code> (Data or Command) and <code>RST</code> (Reset) in addition to the SPI port.</p>



<ul class="wp-block-list"><li>H2+ port <code>PA00</code>&nbsp;maps to&nbsp;<strong>GPIO 0</strong>, connected to <code>RST</code></li><li>H2+ port <code>PA03</code>&nbsp;maps to <strong>GPIO 3</strong>, connected to <code>DC</code></li><li>H2+ <strong>SPI bus 1</strong> is connected to the display module SPI pins.</li></ul>



<p>The following command can be used to load the FBTFT device with the required configuration: </p>



<pre class="wp-block-code"><code>$ sudo modprobe fbtft_device custom name=fb_ili9340 gpios=dc:3,reset:0 speed=16000000 busnum=1 rotate=90</code></pre>



<p>And then map the console output to the newly created framebuffer device:</p>



<pre class="wp-block-code"><code>$ con2fbmap 1 8</code></pre>



<p>where 8 stands for <code>/dev/fb8</code>.</p>



<p>Here is the display running <code>htop</code>:</p>



<div class="wp-block-image"><figure class="aligncenter"><a href="../../wp-content/uploads/2017/02/orange-pi-zero-tft-lcd-display-320x240-waveshare.jpg"><img loading="lazy" decoding="async" width="2000" height="1334" src="../../wp-content/uploads/2017/02/orange-pi-zero-tft-lcd-display-320x240-waveshare-800x534.jpg" alt="3.2″ TFT LCD Display for Orange Pi Zero Over SPI" class="wp-image-6246" srcset="../../wp-content/uploads/2017/02/orange-pi-zero-tft-lcd-display-320x240-waveshare-800x534.jpg 800w, ../../wp-content/uploads/2017/02/orange-pi-zero-tft-lcd-display-320x240-waveshare-1024x683.jpg 1024w, ../../wp-content/uploads/2017/02/orange-pi-zero-tft-lcd-display-320x240-waveshare.jpg 2000w" sizes="(max-width: 2000px) 100vw, 2000px"></a></figure></div>



<h2 class="wp-block-heading">Permanent Setup</h2>



<p>Create a new file&nbsp;<code>/etc/modules-load.d/fbtft.conf</code> with the following content:</p>



<pre class="wp-block-code"><code>fbtft_device</code></pre>



<p>Create another file <code>/etc/modprobe.d/fbtft.conf</code> with the configuration for&nbsp;the <code>fbtft_device</code>&nbsp;device: </p>



<pre class="wp-block-code"><code>options fbtft_device custom name=fb_ili9340 gpios=dc:3,reset:0 speed=16000000 busnum=1 rotate=90</code></pre>



<p>Finally, edit <code>/boot/armbianEnv.txt</code> to map the console output to the framebuffer device during the boot, by appending the following: </p>



<pre class="wp-block-code"><code>extraargs="fbcon=map:8"</code></pre>
			</div>

			<ul class="post-nav">
				<li><h4 class="prev"><a href="../orange-pi-zero-gpio/" rel="prev">Orange Pi Zero GPIO Pins</a></h4></li><li><h4 class="next"><a href="../diy-wireless-headphones/" rel="next">DIY Professional Wireless Headphones</a></h4></li>			</ul>

			
		</article>

		<div class="yarpp yarpp-related yarpp-related-website yarpp-template-list">
<!-- YARPP List -->
<h3>Related posts:</h3><ol>
<li><a href="../orange-pi-zero-gpio/" rel="bookmark" title="Orange Pi Zero GPIO Pins">Orange Pi Zero GPIO Pins</a></li>
<li><a href="../orange-pi-zero/" rel="bookmark" title="Orange Pi Zero as a Web Server">Orange Pi Zero as a Web Server</a></li>
<li><a href="../attiny841-rfm69-mysensors/" rel="bookmark" title="MySensors, RFM69 and ATTiny841">MySensors, RFM69 and ATTiny841</a></li>
<li><a href="../display-widgets-only-on-certain-pages/" rel="bookmark" title="Display Widgets Only on Certain Pages">Display Widgets Only on Certain Pages</a></li>
</ol>
</div>

			<div class="comments-wrap">
		<div class="comments has-comments" id="comments">

							<h2 class="comments-title">
					44 Comments				</h2>

				<ol class="commentlist">
							<li class="comment even thread-even depth-1 parent" id="comment-130380">
				<div id="div-comment-130380" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/38781871fab0a303f6ab8e2389d319b5/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/38781871fab0a303f6ab8e2389d319b5/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Mark Birss</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-130380">March 14, 2017 at 13:22</a>		</div>

		<p>Does your lcd screen output the kernel messages during boot up or just show login prompt ?</p>
<p>Have you been able to set led screen brightness using pwm ?</p>
<p>im using other small screen the adafruit22a</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=130380#respond" data-commentid="130380" data-postid="6275" data-belowelement="div-comment-130380" data-respondelement="respond" data-replyto="Reply to Mark Birss" aria-label="Reply to Mark Birss">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2 parent" id="comment-130422">
				<div id="div-comment-130422" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-130422">March 15, 2017 at 09:02</a>		</div>

		<p>It does show a few messages after the <code>fb_ili9340</code> module is loaded and before the login screen.</p>
<p>adafruit22a <a href="https://github.com/notro/fbtft/blob/354cbeba1282a9e73dfc90bfe309a874610d7a19/fbtft_device.c#L225" rel="nofollow">seems to be</a> using the <code>hx8340bn</code> TFT driver chip which has <a href="https://github.com/notro/fbtft/blob/354cbeba1282a9e73dfc90bfe309a874610d7a19/fb_hx8340bn.c#L48" rel="nofollow">a slightly different SPI init sequence</a>. Did you get it working?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=130422#respond" data-commentid="130422" data-postid="6275" data-belowelement="div-comment-130422" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-3" id="comment-130482">
				<div id="div-comment-130482" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/38781871fab0a303f6ab8e2389d319b5/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/38781871fab0a303f6ab8e2389d319b5/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Mark Birss</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-130482">March 16, 2017 at 14:09</a>		</div>

		<p>Your gpio pinout guide was most helpful</p>
<p>I do get kernel messages if I use the serial debug port (RX – middle one) as GPIO 5 for the LED pin, but it does not always finish booting up with login prompt. (unstable for some reason) I have disabled the serial console and enabled pwm in the fex file</p>
<p>I also currently cant get PWM screen brightness to work on this GPIO 5 either like with a Raspberry Pi</p>
<p><a href="https://www.xgadget.de/anleitung/2-2-spi-display-ili9341-am-raspberry-betreiben/" rel="nofollow ugc">https://www.xgadget.de/anleitung/2-2-spi-display-ili9341-am-raspberry-betreiben/</a></p>
<p>When I use GPIO 7  i mostly only see the login prompt</p>
<p>Where did you buy your screen ?</p>
<p>My 320×480 screen does not work correctly either (only part of screen shows)</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=130482#respond" data-commentid="130482" data-postid="6275" data-belowelement="div-comment-130482" data-respondelement="respond" data-replyto="Reply to Mark Birss" aria-label="Reply to Mark Birss">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-131265">
				<div id="div-comment-131265" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/f09b95887ff53327230e558d8b34144a/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/f09b95887ff53327230e558d8b34144a/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Jiří Šmejkal</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131265">April 6, 2017 at 16:21</a>		</div>

		<p>Does this work or all models of Orange pi, or just with this one ? : )</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131265#respond" data-commentid="131265" data-postid="6275" data-belowelement="div-comment-131265" data-respondelement="respond" data-replyto="Reply to Jiří Šmejkal" aria-label="Reply to Jiří Šmejkal">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor even depth-2" id="comment-131297">
				<div id="div-comment-131297" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131297">April 7, 2017 at 20:11</a>		</div>

		<p>It should work with almost all single board computers since they all have SPI ports. You only need to know the pin mapping in the Linux kernel.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131297#respond" data-commentid="131297" data-postid="6275" data-belowelement="div-comment-131297" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-131271">
				<div id="div-comment-131271" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/5f0e9bf4c1d1b1fe04a5cf5488541f0b/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/5f0e9bf4c1d1b1fe04a5cf5488541f0b/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Denis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131271">April 6, 2017 at 21:15</a>		</div>

		<p>Hello!<br>
Is it possible to run Android OS on Orange Pi Zero and use this display?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131271#respond" data-commentid="131271" data-postid="6275" data-belowelement="div-comment-131271" data-respondelement="respond" data-replyto="Reply to Denis" aria-label="Reply to Denis">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor even depth-2 parent" id="comment-131298">
				<div id="div-comment-131298" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131298">April 7, 2017 at 20:11</a>		</div>

		<p>I don’t know. Haven’t tried it with Android.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131298#respond" data-commentid="131298" data-postid="6275" data-belowelement="div-comment-131298" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-3" id="comment-131406">
				<div id="div-comment-131406" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/5f0e9bf4c1d1b1fe04a5cf5488541f0b/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/5f0e9bf4c1d1b1fe04a5cf5488541f0b/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Denis</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131406">April 9, 2017 at 23:51</a>		</div>

		<p>No desire to try? Would be very interesting material. And unique!</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131406#respond" data-commentid="131406" data-postid="6275" data-belowelement="div-comment-131406" data-respondelement="respond" data-replyto="Reply to Denis" aria-label="Reply to Denis">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-131997">
				<div id="div-comment-131997" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/0be09342a6d439b11b97f891932bf7a6/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/0be09342a6d439b11b97f891932bf7a6/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Jake</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-131997">May 6, 2017 at 14:09</a>		</div>

		<p>Quiet simplified presentation.<br>
I was wondering if the same method can be applied for the <a href="http://www.waveshare.com/wiki/3.5inch_RPi_LCD_(A)" rel="nofollow">3.5 inch touch screen LCD module here</a>.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=131997#respond" data-commentid="131997" data-postid="6275" data-belowelement="div-comment-131997" data-respondelement="respond" data-replyto="Reply to Jake" aria-label="Reply to Jake">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-132001">
				<div id="div-comment-132001" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132001">May 6, 2017 at 17:41</a>		</div>

		<p>Sure, as long as it uses one of the <a href="https://github.com/torvalds/linux/tree/master/drivers/staging/fbtft" rel="nofollow">supported TFT SPI-based driver chips</a> (also linked in the post). Simply replace <code>name=fb_ili9340</code> with the name of the chip you have on the module.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132001#respond" data-commentid="132001" data-postid="6275" data-belowelement="div-comment-132001" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-132122">
				<div id="div-comment-132122" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/5453e78aee58e6c857fa1cdc5ea1b5ff/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/5453e78aee58e6c857fa1cdc5ea1b5ff/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Serg_io</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132122">May 11, 2017 at 16:40</a>		</div>

		<p>Have you measured refresh rate?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132122#respond" data-commentid="132122" data-postid="6275" data-belowelement="div-comment-132122" data-respondelement="respond" data-replyto="Reply to Serg_io" aria-label="Reply to Serg_io">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-132123">
				<div id="div-comment-132123" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132123">May 11, 2017 at 16:54</a>		</div>

		<p>Nope. It would be interesting to know, though. Here is more information about <a href="https://github.com/notro/fbtft/wiki/FPS" rel="nofollow">fbtft and FPS</a>.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132123#respond" data-commentid="132123" data-postid="6275" data-belowelement="div-comment-132123" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-132503">
				<div id="div-comment-132503" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/0536e5267ef4b9e7b235a2e5d8a385a5/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/0536e5267ef4b9e7b235a2e5d8a385a5/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Agge</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132503">May 28, 2017 at 18:08</a>		</div>

		<p>Thanks a lot for the instructions.</p>
<p>I managed to get a waveshare 3.5 A clone work by doing it like this:</p>
<pre><code>modprobe fbtft_device custom name=fb_ili9486 gpios=dc:18,reset:2 speed=16000000 busnum=1 rotate=90</code></pre>
<p>But with the “Armbian_5.25_Orangepizero_Ubuntu_xenial_default_3.4.113” image the boot halts just after starting to load kernel when I point the vt to fb8</p>
<pre><code>"extraargs="fbcon=map:8"</code></pre>
<p><code>"con2fbmap 1 8"</code> works ! strange</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132503#respond" data-commentid="132503" data-postid="6275" data-belowelement="div-comment-132503" data-respondelement="respond" data-replyto="Reply to Agge" aria-label="Reply to Agge">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2 parent" id="comment-132527">
				<div id="div-comment-132527" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132527">May 29, 2017 at 10:51</a>		</div>

		<p>Thanks for sharing that Agge! Are you saying that supplying the <code>extraargs</code> argument it doesn’t work while using <code>con2fbmap</code> it does? Are you able to see any errors messages during the boot over UART? Did you add a space before the <code>extraargs</code> parameter in <code>/boot/armbianEnv.txt</code>?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132527#respond" data-commentid="132527" data-postid="6275" data-belowelement="div-comment-132527" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-3 parent" id="comment-132532">
				<div id="div-comment-132532" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/0536e5267ef4b9e7b235a2e5d8a385a5/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/0536e5267ef4b9e7b235a2e5d8a385a5/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Agge</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132532">May 29, 2017 at 13:17</a>		</div>

		<p>Should there be a space before extraargs ?<br>
Have to look into that tonight. </p>
<p>The uart halts just when kernel starts booting well halts. So no output from it</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132532#respond" data-commentid="132532" data-postid="6275" data-belowelement="div-comment-132532" data-respondelement="respond" data-replyto="Reply to Agge" aria-label="Reply to Agge">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-4" id="comment-132555">
				<div id="div-comment-132555" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132555">May 30, 2017 at 09:46</a>		</div>

		<p>Yes, there should be a space before <code>extraargs</code>. It probably halts at that line because of a formatting error.</p>

		
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even depth-2 parent" id="comment-135118">
				<div id="div-comment-135118" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/2f091d8ca700854267491c3b7ea4ef2d/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/2f091d8ca700854267491c3b7ea4ef2d/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Miguel</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-135118">August 22, 2017 at 03:44</a>		</div>

		<p>Hey. I’m having exactly the same issue. The screen image in my tft seems to be very unstable. It gets stuck very often, did you sorted the problem out at the end ?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=135118#respond" data-commentid="135118" data-postid="6275" data-belowelement="div-comment-135118" data-respondelement="respond" data-replyto="Reply to Miguel" aria-label="Reply to Miguel">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-3" id="comment-135336">
				<div id="div-comment-135336" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-135336">August 28, 2017 at 10:56</a>		</div>

		<p>Not sure to be honest. You could try adjusting the SPI bus <code>speed=16000000</code> value.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=135336#respond" data-commentid="135336" data-postid="6275" data-belowelement="div-comment-135336" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-132594">
				<div id="div-comment-132594" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/036d02dfaf22c92670a1c0dca0579bb3/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/036d02dfaf22c92670a1c0dca0579bb3/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">PeMi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132594">May 31, 2017 at 13:03</a>		</div>

		<p>have ili9340 2,4″ display at home, and pi zero with ext board on the way, looking to build a “internet radio” and “spotify connect” player by connecting external speakers – anyone has experience with this? any good tips on what software to use? Ideal internet radios as playlist of strem-urls, so just need some nice simple ui maybe? to control vlc? or any tips? </p>
<p>and how to provide the spotify connect functionality (to show “play on xy”)? maybe even provide controls for this too?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132594#respond" data-commentid="132594" data-postid="6275" data-belowelement="div-comment-132594" data-respondelement="respond" data-replyto="Reply to PeMi" aria-label="Reply to PeMi">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-133119">
				<div id="div-comment-133119" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-133119">June 15, 2017 at 10:01</a>		</div>

		<p>Maybe start with something very simple — <a href="https://cmus.github.io/" rel="nofollow">cmus</a> is a CLI music player so you don’t need to run the full desktop.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=133119#respond" data-commentid="133119" data-postid="6275" data-belowelement="div-comment-133119" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-132786">
				<div id="div-comment-132786" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/b90b4668fbc8dca891c3c4bdf61488e7/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/b90b4668fbc8dca891c3c4bdf61488e7/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">MrShark</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132786">June 4, 2017 at 11:13</a>		</div>

		<p>hi, do you think can be used with <a href="https://www.aliexpress.com/item/Best-Price-Original-3-5-LCD-TFT-Touch-Screen-Display-for-Raspberry-Pi-2-Model-B/32508151978.html" rel="nofollow">this modul</a>e?</p>
<p>can’t find the chipset on that page, but <a href="https://www.raspberrypi.org/forums/viewtopic.php?t=143581" rel="nofollow">it seems to work with standard raspbian</a>.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132786#respond" data-commentid="132786" data-postid="6275" data-belowelement="div-comment-132786" data-respondelement="respond" data-replyto="Reply to MrShark" aria-label="Reply to MrShark">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-132898">
				<div id="div-comment-132898" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-132898">June 7, 2017 at 09:20</a>		</div>

		<p>Yes, it should work just fine since it has compatible SPI pins.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=132898#respond" data-commentid="132898" data-postid="6275" data-belowelement="div-comment-132898" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-134067">
				<div id="div-comment-134067" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/e8fe9ccef310190952a9d6616a80581e/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/e8fe9ccef310190952a9d6616a80581e/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Karthik</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-134067">July 16, 2017 at 18:24</a>		</div>

		<p>Hey, your guide is very helpful for LCD display with Armbian OS. I am trying to do the same with Lubuntu Image available on Orange pi zero website.<br>
What would be the procedure to configure the same for 3.2 TFT LCD</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=134067#respond" data-commentid="134067" data-postid="6275" data-belowelement="div-comment-134067" data-respondelement="respond" data-replyto="Reply to Karthik" aria-label="Reply to Karthik">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2 parent" id="comment-134068">
				<div id="div-comment-134068" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-134068">July 16, 2017 at 18:37</a>		</div>

		<p>It should be exactly the same as long as you know the TFT chip name, I think. Did you try it already?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=134068#respond" data-commentid="134068" data-postid="6275" data-belowelement="div-comment-134068" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-3 parent" id="comment-134070">
				<div id="div-comment-134070" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/e8fe9ccef310190952a9d6616a80581e/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/e8fe9ccef310190952a9d6616a80581e/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Karthik</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-134070">July 16, 2017 at 19:10</a>		</div>

		<p>where to add the following line:</p>
<pre>extraargs="fbcon=map:8"</pre>
<p>I don’t see any config.txt or env.txt at /boot/ location</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=134070#respond" data-commentid="134070" data-postid="6275" data-belowelement="div-comment-134070" data-respondelement="respond" data-replyto="Reply to Karthik" aria-label="Reply to Karthik">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-4" id="comment-134071">
				<div id="div-comment-134071" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-134071">July 16, 2017 at 19:18</a>		</div>

		<p>Does it work when you manually run the <code>con2fbmap 1 8</code> command after doing <code>sudo modprobe fbtft_device ...</code>? It should be working before you add it permanently to the boot file.</p>

		
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-134540">
				<div id="div-comment-134540" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/2ba89bea445d690720abf335d990557b/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/2ba89bea445d690720abf335d990557b/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Tobi</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-134540">August 2, 2017 at 13:30</a>		</div>

		<p>Hi, I’ve managed to get the kumantech 3.5 inch screen kinda working. But unfortunately it stops working a few seconds after booting. It hangs and doesn’t update the screen anymore. </p>
<p>I’m testing it with a waveshare 3.2 inch display right now and this display hangs after a while, too. But this time it took several minutes before it stopped working.</p>
<p>Do you have any idea what’s going wrong here?</p>
<p>I’m on the latest Armbian Ubuntu xenial image.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=134540#respond" data-commentid="134540" data-postid="6275" data-belowelement="div-comment-134540" data-respondelement="respond" data-replyto="Reply to Tobi" aria-label="Reply to Tobi">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-135337">
				<div id="div-comment-135337" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-135337">August 28, 2017 at 10:58</a>		</div>

		<p>I’ve had the same issue before but I’m not sure how to solve it. You could try lowering the SPI bus speed setting <code>speed=16000000</code>.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=135337#respond" data-commentid="135337" data-postid="6275" data-belowelement="div-comment-135337" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-139523">
				<div id="div-comment-139523" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/d2fe7ad22f017c41fc068408fa2ed532/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/d2fe7ad22f017c41fc068408fa2ed532/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Graham Harris</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-139523">December 10, 2017 at 22:48</a>		</div>

		<p>Hi, I am trying to use this via a 26-pin RasPi GPIO Extension board- ie one of those T-shaped adapters that breaks out all the GPIO pins onto a breadboard.</p>
<p>My challenge is that the labelling on that doesn’t closely match anything else.</p>
<p>Could you please explicitly say which OrangePi Zero GPIO pins you have mapped to each of the ili9341 pins?</p>
<p>Thanks</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=139523#respond" data-commentid="139523" data-postid="6275" data-belowelement="div-comment-139523" data-respondelement="respond" data-replyto="Reply to Graham Harris" aria-label="Reply to Graham Harris">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-139525">
				<div id="div-comment-139525" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-139525">December 10, 2017 at 23:08</a>		</div>

		<p>My particular display connects to the SPI bus #1 (<code>PA15</code> is <code>MOSI</code>, <code>PA16</code> is <code>MISO</code>, <code>PA14</code> is <code>CLK</code> and <code>PA13</code> is <code>CS</code>) and two additional pins at <code>PA00</code> and <code>PA03</code> for <code>RST</code> and <code>DC</code>. Please note that physical pin numbers are different from the pin names in the Linux kernel and the GPIO numbers that are mapped to those pins. See the <a href="http://linux-sunxi.org/Xunlong_Orange_Pi_Zero" rel="nofollow">expansion port table on this page</a> for how they’re all mapped together.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=139525#respond" data-commentid="139525" data-postid="6275" data-belowelement="div-comment-139525" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-143747">
				<div id="div-comment-143747" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/c580a8bb41d7d18cf3ac2b74a5c14fed/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/c580a8bb41d7d18cf3ac2b74a5c14fed/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Fred</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-143747">April 8, 2018 at 16:36</a>		</div>

		<p>Nice!, it worked as well on the orange pi one, on bus SPI0 with a few changes:<br>
Both SPI modules are desactivated by default during the dtb fixup so in u-boot I’d to set: ‘setenv param_spidev_spi_bus 0’ before booting to have it activated and it worked.<br>
Cheers,<br>
Fred</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=143747#respond" data-commentid="143747" data-postid="6275" data-belowelement="div-comment-143747" data-respondelement="respond" data-replyto="Reply to Fred" aria-label="Reply to Fred">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-143752">
				<div id="div-comment-143752" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-143752">April 8, 2018 at 19:15</a>		</div>

		<p>Thanks for sharing your findings, Fred! I’m sure others will be happy to learn it works with Orange Pi One.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=143752#respond" data-commentid="143752" data-postid="6275" data-belowelement="div-comment-143752" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-144451">
				<div id="div-comment-144451" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/2e4726bd1fe8aeea6ab963d54a04e11a/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/2e4726bd1fe8aeea6ab963d54a04e11a/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">tonispax</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-144451">May 3, 2018 at 04:01</a>		</div>

		<p>hello Kaspars,</p>
<p>First it all thank you for this great tuto and review. I’d like to send you 2 suggestions:</p>
<p>1st is to say that to follow your tips, we need to use a “hand builded image” of Armbian (<a href="https://github.com/armbian/build" rel="nofollow ugc">https://github.com/armbian/build</a>) instead of the pre-compiled available images on site.</p>
<p>2nd is to use this command:<br>
<code>modprobe fbtft_device custom name=fb_ili9340 gpios=dc:3,reset:0 speed=16000000 busnum=1 rotate=90 bgr=1</code></p>
<p>This LCD (ili9340) or fbtft, in my case, was with blue and red colors swapped, and bgr=1 make it right again.</p>
<p>Congrats again and best wishes,<br>
tonispa</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=144451#respond" data-commentid="144451" data-postid="6275" data-belowelement="div-comment-144451" data-respondelement="respond" data-replyto="Reply to tonispax" aria-label="Reply to tonispax">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-144536">
				<div id="div-comment-144536" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-144536">May 7, 2018 at 13:42</a>		</div>

		<p>Thanks for sharing your suggestions! I did use <a href="https://www.armbian.com/orange-pi-zero/" rel="nofollow">the pre-built Armbian images</a>, though.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=144536#respond" data-commentid="144536" data-postid="6275" data-belowelement="div-comment-144536" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-150146">
				<div id="div-comment-150146" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/4e855fbeecf3bcb9655162795998c1fe/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/4e855fbeecf3bcb9655162795998c1fe/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="http://www.patolin.com" class="url" rel="ugc external nofollow">Patricio Reinoso</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-150146">October 21, 2018 at 02:21</a>		</div>

		<p>Hello<br>
Im getting this error executing the modprobe command on an orange pi zero:</p>
<p>modprobe: ERROR: could not insert ‘fbtft_device’: Invalid argument</p>
<p>Im using the prebuilt Arbian Jessie distro. Any idea what can be happening?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=150146#respond" data-commentid="150146" data-postid="6275" data-belowelement="div-comment-150146" data-respondelement="respond" data-replyto="Reply to Patricio Reinoso" aria-label="Reply to Patricio Reinoso">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2 parent" id="comment-150659">
				<div id="div-comment-150659" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-150659">October 31, 2018 at 08:48</a>		</div>

		<p>Did you try one of the <a href="https://github.com/notro/fbtft/issues/49" rel="nofollow">suggested solutions in this thread</a>?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=150659#respond" data-commentid="150659" data-postid="6275" data-belowelement="div-comment-150659" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment even depth-3" id="comment-150683">
				<div id="div-comment-150683" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/4e855fbeecf3bcb9655162795998c1fe/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/4e855fbeecf3bcb9655162795998c1fe/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="http://www.patolin.com" class="url" rel="ugc external nofollow">Patricio</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-150683">October 31, 2018 at 20:01</a>		</div>

		<p>Thanks, but I managed to solve the problem. My display had a different pinout for the Reset and DC pins. I got the console working in the display. Now I will try to use with graphics (for retro games of course ) hehe. Nice blog by the way</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=150683#respond" data-commentid="150683" data-postid="6275" data-belowelement="div-comment-150683" data-respondelement="respond" data-replyto="Reply to Patricio" aria-label="Reply to Patricio">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1 parent" id="comment-150228">
				<div id="div-comment-150228" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/b7ebce0e2fcb2e999d14f380fae7ee7a/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/b7ebce0e2fcb2e999d14f380fae7ee7a/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">RH</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-150228">October 22, 2018 at 16:44</a>		</div>

		<p>Hey Kaspars!</p>
<p>First off thank you for a awesome guide, I have one question though, do you know how to get the pi to output the framebuffer of the video not the console? As mines just outputting the console at the moment not whats actually going on.</p>
<p>Thanks :)</p>
<p>RH</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=150228#respond" data-commentid="150228" data-postid="6275" data-belowelement="div-comment-150228" data-respondelement="respond" data-replyto="Reply to RH" aria-label="Reply to RH">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor even depth-2" id="comment-150658">
				<div id="div-comment-150658" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-150658">October 31, 2018 at 08:46</a>		</div>

		<p>Here is the <a href="https://github.com/notro/fbtft/wiki/Framebuffer-use" rel="nofollow">Framebuffer guide</a> for outputing all kinds of media. I haven’t used it personally so I won’t be able to comment on the specific OPi nuances.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=150658#respond" data-commentid="150658" data-postid="6275" data-belowelement="div-comment-150658" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-152841">
				<div id="div-comment-152841" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/3d026d70df7cd6d46231adcc89ef1cfd/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/3d026d70df7cd6d46231adcc89ef1cfd/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">Bob</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-152841">December 21, 2018 at 16:10</a>		</div>

		<p>Can you use the display in gui mode? When it’s no gui it works fine. But after upgrading system to some GUI desktop environment, display goes black…? Anyone had similar issues?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=152841#respond" data-commentid="152841" data-postid="6275" data-belowelement="div-comment-152841" data-respondelement="respond" data-replyto="Reply to Bob" aria-label="Reply to Bob">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1 parent" id="comment-152905">
				<div id="div-comment-152905" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/350932e64560b3ccf7da552cc482fa09/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/350932e64560b3ccf7da552cc482fa09/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn">DoubleHP</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-152905">December 22, 2018 at 20:50</a>		</div>

		<p>Random tips :</p>
<p>– orange pi zero all have 2 SPI bus: one in the main GPIO port, and one for the flash on the back side. If you don’t have the plus model, you can unsolder the FLASH and use the port. FLASH is port 1, so, GPIO is port 1. This is very important when you follow tutorials written for other opis</p>
<p>– before you start following a tutorial, you need to understand which kernel you are using. If the turial is written after jan 2017, and mentions adding an overlay in armbianEnv.txt, then it’s for kernel 4; if the tuto is before feb 2018, and does not mention altering armbianEnv.txt for SPI compatibility, author is using kernel 3. This is critical.</p>
<p>– I got adressable LEDs working on both kernels, 3 and 4. Easier on 4.</p>
<p>– SPI LCDs work only on kernel 3; I have spend days on kernel 4, just forget them; drivers exist, but they are broken.</p>
<p>– con2fbmap is required only on kernel 3</p>
<p>– to get X working, you need to create /etc/X11/xorg.conf.d/99-fbturbo.conf</p>
<p>– check your FB number with a command like this: dmesg | grep ili | grep graphics | grep -i fb . I have seen people using 0, 1 and 8.</p>
<p>Now, I have ili9486 working perfectly fine … with image Armbian_5.35_Orangepizero_Ubuntu_xenial_default_3.4.113 (kernel 3.4.113).</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=152905#respond" data-commentid="152905" data-postid="6275" data-belowelement="div-comment-152905" data-respondelement="respond" data-replyto="Reply to DoubleHP" aria-label="Reply to DoubleHP">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment byuser comment-author-kaspars bypostauthor odd alt depth-2" id="comment-152941">
				<div id="div-comment-152941" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/661eb21385c25c01ad64ab9e13b37331/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="../../" class="url" rel="ugc">Kaspars</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-152941">December 23, 2018 at 12:09</a>		</div>

		<p>This is super useful information, thanks for sharing!</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=152941#respond" data-commentid="152941" data-postid="6275" data-belowelement="div-comment-152941" data-respondelement="respond" data-replyto="Reply to Kaspars" aria-label="Reply to Kaspars">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1 parent" id="comment-303097">
				<div id="div-comment-303097" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/1c428c8799e52a2416b5c7994d5203e1/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/1c428c8799e52a2416b5c7994d5203e1/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="https://kogyikaunghtet.github.io" class="url" rel="ugc external nofollow">Kaung Htet Htun</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-303097">November 23, 2021 at 03:59</a>		</div>

		<p>First of all, thank you very much for sharing. The display I use is <a href="https://www.waveshare.com/4inch-tft-touch-shield.htm" rel="nofollow ugc">waveshare ILI9486 4inch TFT shield</a> compatibility for arduino. The problem of this shield is SPI config switch is set to ICSP as default. In fact, the switch must not be placed in the side of ICSP. I have wasted my time for not caring about this fact.</p>
<p>Another problem is that fbtft is not available on latest armbian. So, I had to use Debian jessie 3.4 from <a href="https://archive.armbian.com/orangepizero/archive/" rel="nofollow ugc">Armbian Archive Storage</a>, because fbtft_device is gone in linux kernel 5.4 (<a href="https://github.com/notro/fbtft/wiki" rel="nofollow ugc">fbtft wiki</a>).</p>
<p>Finally, it worked well with this command.</p>
<p><code>$ sudo modprobe fbtft_device custom name=fb_ili9486 gpios=dc:3,reset:0,led:6 speed=16000000 busnum=1 rotate=90</code><br>
<code>$ con2fbmap 1 8</code></p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=303097#respond" data-commentid="303097" data-postid="6275" data-belowelement="div-comment-303097" data-respondelement="respond" data-replyto="Reply to Kaung Htet Htun" aria-label="Reply to Kaung Htet Htun">Reply</a></div>
				</div>
				<ul class="children">
		<li class="comment odd alt depth-2" id="comment-303098">
				<div id="div-comment-303098" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="../../__reverse.kaspars.net/gravatar/avatar/1c428c8799e52a2416b5c7994d5203e1/s%3D64%26d%3Dmm%26r%3Dg" srcset="../../__reverse.kaspars.net/gravatar/avatar/1c428c8799e52a2416b5c7994d5203e1/s%3D128%26d%3Dmm%26r%3Dg 2x" class="avatar avatar-64 photo" height="64" width="64" onerror="this.onerror=null;this.src='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';this.srcset='https://kaspars.net/wp-content/plugins/webmention/assets/img/mm.jpg';" loading="lazy" decoding="async">			<cite class="fn"><a href="https://kogyikaunghtet.github.io" class="url" rel="ugc external nofollow">Kaung Htet Htun</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata">
			<a href="#comment-303098">November 23, 2021 at 04:02</a>		</div>

		<p><code>$ sudo modprobe fbtft_device custom name=fb_ili9486 gpios=dc:3,reset:0,led:6 speed=16000000 busnum=1 rotate=90</code></p>
<p><code>$ con2fbmap 1 8</code></p>
<p><a href="https://live.staticflickr.com/65535/51698767866_6d04ced18b_b.jpg" rel="nofollow ugc">For image!</a></p>

		<div class="reply"><a rel="nofollow" class="comment-reply-link" href="https://kaspars.net/blog/spi-display-orange-pi-zero?replytocom=303098#respond" data-commentid="303098" data-postid="6275" data-belowelement="div-comment-303098" data-respondelement="respond" data-replyto="Reply to Kaung Htet Htun" aria-label="Reply to Kaung Htet Htun">Reply</a></div>
				</div>
				</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
				</ol>

							
				<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://kaspars.net/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-form-comment"><label for="comment">Comment <span class="required">*</span></label> <textarea autocomplete="new-password" id="bfac3e1ff0" name="bfac3e1ff0" cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-label="hp-comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize="">document.getElementById("comment").setAttribute( "id", "acd1b45e00e5916a1bcb29be97113b33" );document.getElementById("bfac3e1ff0").setAttribute( "id", "comment" );</script></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" autocomplete="email" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" autocomplete="url"></p>
<p class="comment-form-notify-me">
			<label>
			<input type="checkbox" name="comment-approved_notify-me" value="1">
			Notify me by email when the comment gets approved.
			</label>
			</p><input type="hidden" name="wp-comment-cookies-consent" value="1"><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="6275" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	<form id="webmention-form" action="https://kaspars.net/wp-json/webmention/1.0/endpoint" method="post">
	<p>
		<label for="webmention-source">To respond on your own website, enter the URL of your response which should contain a link to this post's permalink URL. Your response will then appear (possibly after moderation) on this page. Want to update or remove your response? Update or delete your post and re-enter your post's URL again. (<a href="https://indieweb.org/webmention">Learn More</a>)</label>
	</p>
	<p>
		<input id="webmention-source" type="url" autocomplete="url" required="" pattern="^https?:\/\/(.*)" name="source" placeholder="URL/Permalink of your article">
	</p>
	<p>
		<input id="webmention-submit" type="submit" name="submit" value="Ping me!">
	</p>
	<input id="webmention-format" type="hidden" name="format" value="html">
	<input id="webmention-target" type="hidden" name="target" value="https://kaspars.net/blog/spi-display-orange-pi-zero">
</form>

		</div><!-- #comments -->
	</div>
	
		
		
		</div><!-- content-main -->
	</div><!-- wrap -->
</div>

<div class="wrap wrap-footer" role="contentinfo">
	<div class="wrap-section-in">

		
				<div id="footer">
			<aside id="text-17" class="widget widget_text"><h1 class="widget-title">Check out my WordPress products</h1>			<div class="textwidget"><p><a href="https://widgetcontext.com">Widget Context</a> for widget visibility, <a href="https://preseto.com/go/cf7-storage">Storage</a> and <a href="https://formcontrols.com">Controls</a> for Contact Form 7. Learn more about <a href="../../projects/">my projects →</a></p>
</div>
		</aside><aside id="convertkit_form-2" class="widget convertkit widget_convertkit_form"><h1 class="widget-title">Subscribe to My Newsletter</h1><script async="" data-uid="cda85cd940" src="https://wpelevator.ck.page/cda85cd940/index.js" data-jetpack-boost="ignore" data-no-defer="1" nowprocket=""></script></aside>
		<aside id="recent-posts-3" class="widget widget_recent_entries">
		<h1 class="widget-title">Recent Posts</h1>
		<ul>
											<li>
					<a href="../nginx-rate-limit-php/">How to Rate Limit Requests to Specific PHP Files with Nginx</a>
									</li>
											<li>
					<a href="../applescript-resize-all-windows/">Use AppleScript to Resize All Windows for Screen Recording</a>
									</li>
											<li>
					<a href="../airbank-d13-pro-teardown/">Airbank D13 Puffer Pro Pump Teardown</a>
									</li>
											<li>
					<a href="../bafang-canbus/">Notes on Bafang CAN Bus</a>
									</li>
											<li>
					<a href="../usb-c-pd65w-adapter-charger-18v-20v-batteries/">USB-C PD65W Adapter and Charger for 18V and 20V Power Tool Batteries</a>
									</li>
											<li>
					<a href="../solar-lora-meshtastic/">Building a Solar Powered Lora Meshtastic Community Network</a>
									</li>
											<li>
					<a href="../powerwalker-vi-500-r1u/">Notes on PowerWalker VI 500 R1U UPS</a>
									</li>
											<li>
					<a href="../beelink-u59-pro-n5105/">Notes on Beelink U59 Pro (Intel N5105) as a Home Server</a>
									</li>
											<li>
					<a href="../neo-nas-zw05b0-tuya-zigbee-homekit-hub/">Notes on NEO Tuya Zigbee HomeKit Hub</a>
									</li>
											<li>
					<a href="../nilan-compact-p2-geo3-polar/">Notes on Nilan Compact P2 GEO3 Polar</a>
									</li>
					</ul>

		</aside><aside id="categories-3" class="widget widget_categories"><h1 class="widget-title">Blog Topics</h1>
			<ul>
					<li class="cat-item cat-item-174"><a href="../topic/cryptography/">Cryptography</a>
</li>
	<li class="cat-item cat-item-3"><a href="../topic/design/">Design</a>
</li>
	<li class="cat-item cat-item-147"><a href="../topic/dev/">Development</a>
</li>
	<li class="cat-item cat-item-156"><a href="../topic/electronics/">Electronics</a>
</li>
	<li class="cat-item cat-item-188"><a href="../topic/home-automation/">Home Automation</a>
</li>
	<li class="cat-item cat-item-155"><a href="../topic/linux/">Linux</a>
</li>
	<li class="cat-item cat-item-114"><a href="../topic/meta/">Meta</a>
</li>
	<li class="cat-item cat-item-115"><a href="../topic/observatory/">Observatory</a>
</li>
	<li class="cat-item cat-item-189"><a href="../topic/passive-house/">Passive House</a>
</li>
	<li class="cat-item cat-item-5"><a href="../topic/media-publishing/">Publishing</a>
</li>
	<li class="cat-item cat-item-184"><a href="../topic/vlog/">Video Blog</a>
</li>
	<li class="cat-item cat-item-136"><a href="../topic/performance/">Web Performance</a>
</li>
	<li class="cat-item cat-item-9"><a href="../topic/wordpress/">WordPress</a>
</li>
			</ul>

			</aside>		</div>
		
		<div class="footer-menu-wrap">
					<strong class="home"><a href="../../">Kaspars Dambis</a></strong>
					<div id="nav-footer" class="menu-personal-links-container"><ul id="menu-personal-links" class="menu"><li id="menu-item-4829" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-4829"><a title="Blog about WordPress plugin development, website performance and optimization" href="../">Blog</a></li>
<li id="menu-item-5187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5187"><a title="About Kaspars Dambis" rel="author" href="../../about/">About</a></li>
<li id="menu-item-5188" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5188"><a title="Contact Kaspars Dambis" href="../../contact/">Contact</a></li>
<li id="menu-item-6908" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6908"><a title="My blog in Latvian" rel="me" href="https://kasparsdambis.lv">Latviski</a></li>
</ul></div>
				</div><div id="nav-social" class="menu-social-links-container"><ul id="menu-social-links" class="menu"><li id="menu-item-5185" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5185"><a title="My code on GitHub" rel="me" href="https://github.com/kasparsd/">GitHub Profile</a></li>
<li id="menu-item-5186" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5186"><a title="My WordPress profile" rel="me" href="https://profiles.wordpress.org/kasparsd">WordPress Profile</a></li>
<li id="menu-item-5184" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5184"><a title="Kaspars on Twitter" rel="me" href="https://twitter.com/konstruktors">Twitter</a></li>
<li id="menu-item-8591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8591"><a title="Follow on Mastadon (ActivityPub)" rel="me" href="https://mastodon.social/@kasparsd">Mastadon</a></li>
<li id="menu-item-6160" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6160"><a title="My Video Blog" rel="me" href="https://www.youtube.com/kasparsdambis">YouTube</a></li>
<li id="menu-item-5195" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5195"><a title="My photos on Flickr" rel="me" href="https://www.flickr.com/photos/kasparsdambis/">Flickr</a></li>
<li id="menu-item-5793" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5793"><a title="My Instagram Photos" rel="me" href="https://www.instagram.com/kasparsd/">Instagram</a></li>
<li id="menu-item-6512" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6512"><a title="My Micro Blog" rel="me" href="https://micro.blog/kaspars">Micro.blog</a></li>
</ul></div>
		
		<div class="theme-credits"><p>Powered by <a href="https://wordpress.org">WordPress</a> and <a href="https://preseto.com/themes/list">List Theme</a>.</p></div>	</div>
</div>

<script type="text/javascript" id="minit-js-js-extra">
/* <![CDATA[ */
var swu_options = {"text":"Stand With Ukraine","hashtag":"#StandWithUkraine","url":"https:\/\/war.ukraine.ua\/"};
/* ]]> */
</script>
<script async="" type="text/javascript" defer="" src="../../wp-content/uploads/minit/83067bfb7b491520abc941f1d73c5bc2.js" id="minit-js-js"></script>

<!-- Script helper footer: -->
<script defer="" src="../../__reverse.kaspars.net/gtm/gtag/js/id%3DG-4GVR01JRX8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-4GVR01JRX8');
</script>


<!--
	List Theme by Preseto at https://preseto.com
	88 queries in 0.3987 seconds on Mon, 21 Oct 2024 12:07:53 +0000.-->



</body></html>